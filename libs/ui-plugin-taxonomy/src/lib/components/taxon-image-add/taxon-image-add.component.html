<div id='main'>
    <div *ngIf="userCanEdit" class='my2'>

        <div style='background-color: #FFFF99; padding: 10px'>
            <b>{{ "image.add.select.message" | translate }}</b>
            <symbiota2-file-upload-field [formControl]='fileInputControl'></symbiota2-file-upload-field>
            <button
                mat-flat-button color='primary'
                (click)='onUpload()'
                [disabled]='!fileInputControl.value'
            >
                {{"taxonomy.uploader.upload.button" | translate}}
            </button>
            <br/>
            <mat-checkbox class="example-margin" [(ngModel)]='keepLarge'
            >{{"image.add.image.keep.message" | translate}}</mat-checkbox>
            <br/>
            {{"image.add.image.keep.message.note"  | translate}}
        </div>
        <div>
            <form class="name-autocomplete-form">
                <br/>
                <mat-form-field appearance="fill" [style.width.vw]="90">
                    <mat-label>{{"image.details.caption" | translate}}</mat-label>
                    <input matInput
                           maxlength="100"
                           [value]="local_data.caption"
                           [(ngModel)]="local_data.caption"
                           [ngModelOptions]="{standalone: true}">
                </mat-form-field>
                <br/>
                <mat-form-field appearance="fill">
                    <mat-label>{{"image.search.by.photographers" | translate}}</mat-label>
                    <mat-select [formControl]="photographerForm">
                        <mat-option *ngFor="let photographer of photographerOptions" [value]="photographer">{{photographer}}</mat-option>
                    </mat-select>
                </mat-form-field>
                <br/>
                <mat-form-field appearance="fill" [style.width.vw]="70">
                    <mat-label>{{"image.details.image.source.url" | translate}}</mat-label>
                    <input matInput
                           maxlength="100"
                           [value]="local_data.sourceUrl"
                           [(ngModel)]="local_data.courseUrl"
                           [ngModelOptions]="{standalone: true}">
                </mat-form-field>
                <br/>
                <mat-form-field appearance="fill" [style.width.vw]="70">
                    <mat-label>{{"image.details.image.copyright" | translate}}</mat-label>
                    <input matInput
                           maxlength="100"
                           [value]="local_data.copyright"
                           [(ngModel)]="local_data.copyright"
                           [ngModelOptions]="{standalone: true}">
                </mat-form-field>
                <br/>
                <mat-form-field appearance="fill" [style.width.vw]="70">
                    <mat-label>{{"image.details.image.locality" | translate}}</mat-label>
                    <input matInput
                           maxlength="100"
                           [value]="local_data.locality"
                           [(ngModel)]="local_data.locality"
                           [ngModelOptions]="{standalone: true}">
                </mat-form-field>
                <br/>
                <mat-form-field appearance="fill" [style.width.vw]="70">
                    <mat-label>{{"image.details.image.notes" | translate}}</mat-label>
                    <input matInput
                           maxlength="100"
                           [value]="local_data.notes"
                           [(ngModel)]="local_data.notes"
                           [ngModelOptions]="{standalone: true}">
                </mat-form-field>
                <br/>
                <mat-form-field appearance="fill" >
                    <mat-label>{{"image.details.image.sortSequence" | translate}}</mat-label>
                    <input matInput [formControl]='sortSequenceControl'>
                    <div *ngIf="sortSequenceControl.invalid && (sortSequenceControl.dirty || sortSequenceControl.touched)">
                        <mat-error *ngIf="sortSequenceControl.invalid">{{"image.add.image.sortSequence.error" | translate}}</mat-error>
                    </div>
                </mat-form-field>

            </form>
        </div>
        <br/><br/>
        <div mat-dialog-actions>
            <!--
                    <button mat-button (click)="doSave()" [disabled]="(!isPublic && acceptedNameControl.invalid) || nameControl.invalid || rankControl.invalid || scientificNameControl.invalid || kingdomNameControl.invalid || sortSequence.invalid" mat-flat-button color="primary">{{'taxon.editor.dialog.save' | translate}}</button>
            -->
            <button mat-button (click)="doSave()" mat-flat-button color="primary">{{"image.add.dialog.upload" | translate}}</button>
        </div>
    </div>
    <div *ngIf="!userCanEdit" class='my2' fxLayout='row' fxLayoutGap='1rem'>
        {{"image.add.lacks.edit.permission" | translate}}
    </div>


</div>
