<div id="main">
    <div>
        <h1>{{"image.search.title" | translate}}</h1>
    </div>

    <!-- Configure search options -->
    <div class="expansion-panel">
        <symbiota2-expansion-panel label='{{"image.search.options.label" | translate}}' [expanded]="false">
            <mat-checkbox class="example-margin" [(ngModel)]='needIdentification'>
                {{"image.search.checkbox.label.need.identification" | translate}}
            </mat-checkbox>
            <br/>
            <mat-checkbox class="example-margin" [(ngModel)]='includeLowQuality'>
                {{"image.search.checkbox.label.low.quality" | translate}}
            </mat-checkbox>
            <br/>
            <mat-checkbox class="example-margin" [(ngModel)]='atLevelOfSpecies'>
                {{"image.search.checkbox.label.to.species" | translate}}
            </mat-checkbox>
        </symbiota2-expansion-panel>
    </div>

    <!-- Configure name list -->
    <div class="expansion-panel">
        <symbiota2-expansion-panel label='{{"taxonomy.viewer.configure.label" | translate}}' [expanded]="false">
            <mat-radio-group
                aria-labelledby="configure-radio-group-label"
                class="configure-radio-group"
                (change)='configureChangeAction()'
                [(ngModel)]="kindOfName">
                <mat-radio-button value="Scientific">{{"taxonomy.viewer.option.scientific" | translate}}</mat-radio-button>&nbsp;&nbsp;
                <mat-radio-button value="Common">{{"taxonomy.viewer.option.common" | translate}}</mat-radio-button>

                <div>
                    <br/>
                    <mat-form-field appearance="fill">
                        <mat-label>{{"taxonomy.viewer.label.authority" | translate}}</mat-label>
                        <mat-select field-class="symbiota2-field-class"
                                    placeholder='{{"taxonomy.viewer.label.authority" | translate}}'
                                    [(value)]="taxonomicAuthorityID"
                                    (selectionChange)="authorityChangeAction()">
                            <mat-option *ngFor="let authority of taxonomicAuthorityList"
                                        [value]="authority.id" >{{ authority.name }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>

                <!-- <div>Using {{kindOfName}} names</div> -->
                <div *ngIf='kindOfName == "Scientific"'>
                    <!-- <mat-checkbox class="example-margin" [(ngModel)]='hasAuthors' (change)='loadScientificNames()'
                    >{{"taxonomy.viewer.label.checkbox.authors" | translate}}</mat-checkbox>-->
                    <mat-checkbox class="example-margin" [(ngModel)]='hasAuthors'
                    >{{"taxonomy.viewer.label.checkbox.authors" | translate}}</mat-checkbox>
                    <!--
                    <br/>
                    <br/>
                    <mat-form-field appearance="fill">
                        <mat-label>Narrow kingdom</mat-label>
                        <mat-select >
                            <mat-option value="option1">Option 1</mat-option>
                            <mat-option value="option2">Option 2</mat-option>
                            <mat-option value="option3">Option 3</mat-option>
                        </mat-select>
                    </mat-form-field>
                    -->
                </div>

                <div *ngIf='kindOfName == "Common"'>
                    <mat-form-field appearance="fill">
                        <mat-label>{{"taxonomy.viewer.label.language" | translate}}</mat-label>
                        <mat-select field-class="symbiota2-field-class"
                                    placeholder='{{"taxonomy.viewer.label.language" | translate}}'
                                    [(value)]="language"
                                    (selectionChange)="languageChangeAction(language)">
                            <mat-option *ngFor="let lang of languageList"
                                        [value]="lang" >{{ lang }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </mat-radio-group>
        </symbiota2-expansion-panel>

    </div>

    <!-- Configure photographer list -->
    <div class="expansion-panel">

    </div>
    <h4>Search</h4>
    <form class="name-autocomplete-form" (ngSubmit)="onSubmit()">
        <!-- Name text box -->
        <mat-form-field class="name-autocomplete-full-width">
            <mat-label *ngIf='kindOfName == "Scientific"'>{{"taxonomy.viewer.label.name.scientific" | translate}}</mat-label>
            <mat-label *ngIf='kindOfName == "Common"'>{{"taxonomy.viewer.label.name.common" | translate}}</mat-label>
            <!-- (keypress)="onKey($event)" -->
            <input *ngIf='kindOfName == "Scientific"' type="text"
                   placeholder='{{"taxonomy.viewer.label.name.scientific" | translate}}'
                   aria-label="String"
                   matInput
                   (keyup)="onKey($event)"
                   [formControl]="nameControl"
                   [matAutocomplete]="auto">
            <input *ngIf='kindOfName == "Common"' type="text"
                   placeholder='{{"taxonomy.viewer.label.name.common" | translate}}'
                   aria-label="String"
                   matInput
                   (keyup)="onKey($event)"
                   [formControl]="nameControl"
                   [matAutocomplete]="auto">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
                <mat-option *ngFor="let option of nameOptions" [value]="nameFor(option)">
                    {{nameFor(option)}} <small>{{authorFor(option)}}</small>
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <!-- Photographer text box -->

        <mat-form-field class="name-autocomplete-full-width">
            <mat-label>{{"image.search.label.name.photographer" | translate}}</mat-label>
            <!--
        <input type="text"
               placeholder='{{"image.search.label.name.photographer" | translate}}'
               aria-label="String"
               matInput

               [formControl]="photographerNameControl"
               [matAutocomplete]="autoPhotographerName">

        <mat-autocomplete autoActiveFirstOption #autoPhotographerName="matAutocomplete">
            <mat-option *ngFor="let name of photographerNameOptions" [value]="name">
                {{name}}
            </mat-option>
        </mat-autocomplete>
        -->
            <input type="search" [(ngModel)] = photographerName>
            <div *ngFor="let name of photographerNameOptions | filter: photographerName">
                {{name}}
            </div>
        </mat-form-field>

        <!-- Search button -->
        <button class="button" type="submit">{{"image.search.search.label" | translate}}</button>
    </form>
</div>
