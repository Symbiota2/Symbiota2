<div id="userListDiv">
    <mat-accordion multi="True">
        <mat-expansion-panel *ngFor="let userPanel of userPanelList" (opened)="panelOpenState = true"
            (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    {{userPanel.user.firstName}} {{userPanel.user.lastName}}
                </mat-panel-title>
                <mat-panel-description>
                    {{userPanel.user.username}}
                </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-grid-list cols="2" rowHeight="100px" columnWidth=" 100px">
                <mat-grid-tile class="profile-row" id="profile-tile1">
                    <div>
                        <ul>
                            <li><strong>Title: </strong>{{userPanel.user.title ? userPanel.user.title : 'Not
                                specified'}}</li>
                            <li><strong>Institution: </strong>{{userPanel.user.institution ? userPanel.user.institution
                                : 'Not specified'}}
                            </li>
                            <li><strong>City: </strong>{{userPanel.user.city ? userPanel.user.city : 'Not specified'}}
                            </li>
                            <li><strong>State: </strong>{{userPanel.user.state ? userPanel.user.state : 'Not
                                specified'}}</li>
                        </ul>
                    </div>
                </mat-grid-tile>
                <mat-grid-tile class="profile-row" id="profile-tile2">
                    <div>
                        <ul>
                            <li><strong>Country: </strong>{{userPanel.user.country ? userPanel.user.country : 'Not
                                specified'}}</li>
                            <li><strong>Email: </strong>{{userPanel.user.email ? userPanel.user.email : 'Not
                                specified'}}</li>
                            <li><strong>URL: </strong>{{userPanel.user.url ? userPanel.user.url : 'Not specified'}}</li>
                            <li><strong>Username: </strong>{{userPanel.user.username ? userPanel.user.username : 'Not
                                specified'}} (Last
                                login: {{userPanel.user.lastLogin ? userPanel.user.lastLogin : "Unknown"}})</li>

                        </ul>
                    </div>
                </mat-grid-tile>
                <mat-grid-tile class="perms-row" id="SitePerms" [rowspan]=1.5>
                    <div>
                        <ul>
                            <li>
                                <h3>Sitewide Permissions</h3>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm" [checked]="userPanel.hasPermission(SUPER_ADMIN)"
                                    name="SuperAdmin">
                                    Super
                                    Administrator</mat-checkbox>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm" [checked]="userPanel.hasPermission(TAXON_EDITOR)">
                                    Taxonomy Editor</mat-checkbox>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm"
                                    [checked]="userPanel.hasPermission(TAXON_PROFILE_EDITOR)">Taxonomy Profile Editor
                                </mat-checkbox>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm" [checked]="userPanel.hasPermission(ROLE_KEY_ADMIN)">
                                    Identification Key Administrator</mat-checkbox>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm" [checked]="userPanel.hasPermission(ROLE_KEY_EDITOR)">
                                    Identification Key Editor</mat-checkbox>
                            </li>
                        </ul>
                    </div>
                </mat-grid-tile>
                <mat-grid-tile class="perms-row" id="OccurrencePerms" [rowspan]=1.5>
                    <div>
                        <ul>
                            <li>
                                <h3>Occurrence Management Permissions</h3>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm" [checked]="userPanel.hasPermission(RARE_SPECIES_ADMIN)">
                                    Rare Species Administrator (can add/remove species)
                                </mat-checkbox>
                            </li>
                            <li>
                                <mat-checkbox class="site-perm"
                                    [checked]="userPanel.hasPermission(RARE_SPECIES_READER)">Can read Rare Species data
                                    for all collections
                                </mat-checkbox>
                            </li>
                        </ul>
                    </div>
                </mat-grid-tile>
                <mat-grid-tile class="perms-row" id="OccurrencePerms" [rowspan]=.5>
                    <div id="submit-div">
                        <button mat-raised-button color="primary">Update Permissions</button>
                    </div>
                </mat-grid-tile>

            </mat-grid-list>
        </mat-expansion-panel>
    </mat-accordion>
    <!--  <ul>
        <ng-container *ngFor="let user of userList">
            
        </ng-container>
    </ul>-->
</div>